<html>
    <head>
        <title>Welcome to Vanity</title>
        <link href='https://fonts.googleapis.com/css?family=Space+Mono' rel='stylesheet' />
        <style>
            body {
                font-family: 'Space Mono', monospace;
                text-rendering: optimizeLegibility;
            }

            .container {
                background-color: #EFEFEF;
                text-align: center;
                width: 60%;
                margin: 0 auto;
                padding: 40px;
            }

            .heading {
                padding-bottom: 2px;
            }

            .heading h1 {
                font-size: 2.5em;
            }

            .heading h3 {
                font-weight: 400;
            }

            .metrics {
                width: 80%;
                margin: 0 auto;
            }

            .metrics ol {
                list-style-type: none;
                padding: 0;
            }

            .metrics li {
                display: inline;
            }

            .repo {
                padding-bottom: 15px;
            }

            .repo .content {
                background-color: #F8F8F8;
                border-radius: 10px;
                width: 100%;
                margin: 0 auto;
                padding: 10px 0 10px;
            }
            
            .repo .content .name {
                font-weight: 500;
                padding-bottom: 5px;
            }

            .stats li + li::before {
                content: " | ";
            }

            .stats li {
                display: inline-block;
            }

            .stats .material-icons {
                vertical-align: bottom !important;
            }

            a {
                color: black;
                text-decoration: none;
            }

            ul.flexbox {
                display: -webkit-box;
                display: -moz-box;
                display: -ms-flexbox;
                display: -webkit-flex;
                display: flex;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="heading">
                <h1>V A N I T Y</h1>
                <h3><%= user.username %>'s metrics</h3>
                <p>
                    This is what your metrics newsletters will look like,<br />
                    minus the weekly comparison.
                </p>
            </div>

            <div class="metrics">
                <% if (metrics.length > 0) { %>
                    <ol>
                    <% for (const repo of metrics) { %>
                        <div class="repo">
                            <div class="content">
                                <div class="name">
                                    <li>
                                        <%= repo.name %>
                                    </li>
                                </div>
                                <div class="stats">
                                    <ol>
                                        <% for (const metric of Object.keys(repo).filter(key => key !== 'name')) { %>
                                            <li class="<%= metric %>">
                                                <%= repo[metric] %> <%= repo[metric] === 1 ? metric.slice(0,-1) : metric %>
                                            </li>
                                        <% } %>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    <% } %>
                    </ol>
                <% } else { %>
                    <p>
                        It seems like you don&apos;t have any repos yet.<br/>
                        Come back once you&apos;ve made a few.
                    </p>
                <% } %>
            </div>

            <div class="footer">
                <a href="https://vanity.dev" target="_blank" class="dim">Vanity</a>
                &copy; 2020
            </div>
        </div>
    </body>
</html>